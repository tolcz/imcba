function getIframeWindow(a){var b;return a.contentWindow?a.contentWindow:a.window?a.window:(!b&&a.contentDocument&&(b=a.contentDocument),!b&&a.document&&(b=a.document),b&&b.defaultView?b.defaultView:b&&b.parentWindow?b.parentWindow:void 0)}if("object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),void 0===window.getIframeWindow,"undefined"==typeof XD)var XD=function(){var a,b,c,d=1,e=this;return{postMessage:function(a,b,c){b&&(c=c||parent,e.postMessage?("postMessage"in c||(c=getIframeWindow(c)),c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +new Date+d++ +"&"+a))},receiveMessage:function(d,f){e.postMessage?(d&&(c=function(a){return"string"==typeof f&&a.origin!==f||"[object Function]"===Object.prototype.toString.call(f)&&f(a.origin)===!1?!1:(d(a),void 0)}),e.addEventListener?e[d?"addEventListener":"removeEventListener"]("message",c,!1):e[d?"attachEvent":"detachEvent"]("onmessage",c)):(a&&clearInterval(a),a=null,d&&(a=setInterval(function(){var a=document.location.hash,c=/^#?\d+&/;a!==b&&c.test(a)&&(b=a,d({data:a.replace(c,"")}))},100)))}}}();var JFCustomWidgetUtils=function(){function a(a){if("undefined"!=typeof a&&~a.indexOf("/jotformWidgets/")){var b=a.split("/jotformWidgets/");a="/widget-uploads/"+b[1]}return a}function b(a){var b=a.indexOf("/widget-uploads/");if("undefined"!=typeof a&&~b&&b>0){var c=a.split("/widget-uploads/");a="/widget-uploads/"+c[1]}return a}function c(b){var c=b.indexOf("/widget-uploads/");return"undefined"!=typeof b&&~c&&0===c&&(b=a(b),b=JFCustomWidget.getParentOrigin()+b),b}function d(){var a=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return a?parseInt(a[1]):void 0}function e(){return/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec/i.test(navigator.userAgent.toLowerCase())||/ipad|android 3|sch-i800|playbook|tablet|kindle|gt-p1000|sgh-t849|shw-m180s|a510|a511|a100|dell streak|silk/i.test(navigator.userAgent.toLowerCase())}function f(a){try{var b=JSON.parse(a);if(b&&"object"==typeof b&&null!==b)return!0}catch(c){}return!1}function g(a){var b=Object.prototype.toString.call(a);return b.replace(/^\[object (\w+)\]$/,"$1")}function h(a){return"Object"===g(a)}function i(a){return"Array"===g(a)}function j(a,b){if("undefined"==typeof a||"undefined"==typeof b||a===!1||b===!1)return"";var c={};return c[p]={type:a,value:b},JSON.stringify(c)}function k(a){var b=[];if(!f(a))return b;var c=JSON.parse(a);return c.hasOwnProperty(p)&&(b=c[p].value),b}function l(a){if(!f(a))return!1;var b=JSON.parse(a);return b.hasOwnProperty(p)?!0:!1}function m(a){return"undefined"==typeof a||""===a||"<empty>"===a}function n(a){var b=document.createElement("textarea");return b.innerHTML=a,b.value}var o={},p="widget_metadata";return o.isJsonString=f,o.getIE=d,o.isMobile=e,o.buildMetadata=j,o.extractMetadata=k,o.hasMetadata=l,o.decodeHtmlEntities=n,o.getS3UriRelativePath=a,o.fixS3UriOrigin=c,o.resetS3UriOrigin=b,o.isEmpty=m,o.isObject=h,o.isArray=i,o}();!function(){"use strict";"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0);for(var c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(void 0===this||null===this)throw new TypeError;var b,c,d=Object(this),e=d.length>>>0;if(0===e)return-1;for(b=e-1,arguments.length>1&&(b=Number(arguments[1]),b!=b?b=0:0!=b&&b!=1/0&&b!=-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b)))),c=b>=0?Math.min(b,e-1):e-Math.abs(b);c>=0;c--)if(c in d&&d[c]===a)return c;return-1})}(),"function"!=typeof Object.assign&&!function(){Object.assign=function(a){"use strict";if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)d.hasOwnProperty(e)&&(b[e]=d[e])}return b}}(),window.console||(console={log:function(){}});var JFCustomWidget=function(){function a(){var a=arguments[0],b=[].slice.call(arguments,1);if(!R[a])return!1;for(var c=R[a],d=c?c.length:0;d--;)c[d].func(b[0])}function b(a,b){"submit"===a&&void 0!==R[a]&&R[a].pop(),R[a]||(R[a]=[]);var c=(++Q).toString();return R[a].push({func:b,token:c}),c}function c(a){for(var b in R)for(var c=R[b],d=0;d<c.length;d++){var e=c[d];if(a===e.token)return c.splice(d,1),a}return X}function d(a){return P()?!1:(a.type="data",a.qid=X.questionID,A(a),void 0)}function e(a){return P()?!1:(a.type="submit",a.qid=X.questionID,A(a),void 0)}function f(a){a.type="ready",A(a)}function g(a){a.type="size",a.qid=X.questionID,A(a)}function h(a,d,e){var f="undefined"!=typeof e?!0:!1,g=C();if(A({eventID:g,type:"event:store",field:a,value:d,qid:X.questionID,hasCallback:f}),f)var h=b("event:emitter:"+g,function(a){e(a.value),c(h)})}function i(a,b){A({type:"fields:fill",fields:a,qid:X.questionID,identifier:b||""})}function j(a){i(a,"label")}function k(a){i(a,"id")}function l(a,c){var d=C();a.eventID=d,a.type="event:listener",a.qid=X.questionID,A(a),"undefined"!=typeof c&&b("event:emitter:"+d,c)}function m(a,b,c){l({field:a,event:b},function(a){c&&c(a.value)})}function n(a,c){"undefined"!=typeof c&&b("event:emitter:"+X.questionID,function(a){c(a.value)})}function o(a,b){return"function"==typeof a?W.callback=a:p(a),"undefined"!=typeof b&&(W.options=Object.assign({},W.options,b)),X}function p(a){if("string"==typeof a&&(a=[a]),"[object Array]"!==Object.prototype.toString.call(a)&&(a=[]),a.length>0)for(var b=0;b<a.length;b++)W.list.push(a[b])}function q(){return W.list.length>0}function r(a){if("function"==typeof W.callback){var b=W.callback(G());p(b),W.callback=!1}if(q()){var c="parallel"in W.options&&!!W.options.parallel;if(c=c&&W.list.length>1?!0:!1)for(var d=[],e=0;e<W.list.length;e++){var f=W.list[e];D(f,function(b){"function"==typeof W.options.onLoad&&W.options.onLoad(b),d.push(b),d.length===W.list.length&&a&&a()})}else{var f=W.list.shift();D(f,function(b){"function"==typeof W.options.onLoad&&W.options.onLoad(b),r(a)})}}else a&&a()}function s(){var a={qid:X.questionID,type:"field:hide"};A(a)}function t(){var a={qid:X.questionID,type:"field:show"};A(a)}function u(a){var b={qid:X.questionID,type:"replace",inputType:a.type,mobile:a.isMobile||!1,required:"required"in a&&a.required};A(b)}function v(a,b){return A({type:"errors",qid:X.questionID,action:"show",msg:a,resetForm:b||!1}),X.sendSubmit({valid:!1,value:""}),X}function w(){return A({type:"errors",qid:X.questionID,action:"hide"}),X}function x(){A({type:"required",qid:X.questionID,action:"set"})}function y(){A({type:"required",qid:X.questionID,action:"unset"})}function z(){return V}function A(a){XD.postMessage(JSON.stringify(a),Z,parent)}function B(a,b){null===b&&(b=""),a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(window.location.href);return null===d?b:decodeURIComponent(d[1])}function C(a,b){"undefined"==typeof a&&(a="");var c,d=function(a,b){return a=parseInt(a,10).toString(16),b<a.length?a.slice(a.length-b):b>a.length?Array(1+(b-a.length)).join("0")+a:a};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,c=a,c+=d(parseInt((new Date).getTime()/1e3,10),8),c+=d(this.php_js.uniqidSeed,5),b&&(c+=(10*Math.random()).toFixed(8).toString()),c}function D(a,b){var c=document.createElement("script");c.type="text/javascript",c.async=!1,c.src=a;var d=function(a,b){"loaded"==a.readyState||"complete"==a.readyState?b():setTimeout(function(){d(a,b)},100)};"function"==typeof b&&("undefined"!=typeof c.addEventListener?c.addEventListener("load",function(){b(a)},!1):c.onreadystatechange=function(){c.onreadystatechange=null,d(c,function(){b(a)})}),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(c)}function E(){var a,b={},c=window.location.search.substring(1);if(c){var d=c.split("&");for(a=0;a<d.length;a++){var e=d[a].split("=");b[e[0]]=decodeURIComponent(e[1])}}return b}function F(a,b){if(!T)return B(a,b);if(null===b&&(b=""),null===a)return b;var c=G();return c[a]}function G(){if(!T)return E();for(var a=JSON.parse(decodeURIComponent(T)),b={},c=0;c<a.length;c++){var d=a[c],e=JFCustomWidgetUtils.isJsonString(d.value)?JSON.parse(d.value):d.value;b[d.name]=e}var f=E();for(var g in f)b[g]=f[g];return b}function H(){return U||""}function I(){X.subscribe("ready",function(){document.body.style.background="transparent"}),X.subscribe("submit",function(){X.sendSubmit({initial:!0,data:!1,valid:!0})}),X.subscribe("style",function(a){if(void 0!==a.font){var b=a.font.family;K(b)}})}function J(){var a=M(F("customCSS"));if(a&&a.length>0&&"<empty>"!==a){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c)}}function K(a){a=a.replace(/\'|\"|(\,\s*sans-serif)/gi,"");var b=["Arial","Arial Black","Courier","Courier New","Comic Sans MS","Gill Sans","Helvetica","Lucida","Lucida Grande","Trebuchet MS","Tahoma","Times New Roman","Verdana","Calibri"];a=a.split(",")[0],b.indexOf(a)>=0?(document.body.style.fontFamily='"'+a+'", sans-serif',X.publish("customfont:active",a),X.publish("customfont",a)):(document.body.style.fontFamily='"'+a+'", sans-serif',void 0===window.WebFont?(window.WebFontConfig={google:{families:[a]},active:function(){X.publish("customfont:active",a),X.publish("customfont",a)}},function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",a.type="text/javascript",a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()):WebFont.load({google:{families:[a]}}))}function L(a){if(Object.keys)return Object.keys(a).length;var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b}function M(a){var b=document.createElement("div");return a&&"string"==typeof a&&(a=escape(a).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),b.innerHTML=a,b.innerText?(a=b.innerText,b.innerText=""):(a=b.textContent,b.textContent="")),unescape(a)}function N(){var a=!1;return"required"in V&&(a=V.required),a}function O(){return"static"in V?V.static:!1}function P(){var a=!1;return"onWizard"in V&&(a=V.onWizard),a}var Q=-1,R={},S=!1,T=!1,U=!1,V={},W={callback:!1,list:[],options:{parallel:!1,onLoad:function(){}}},X={texts:{},questionID:B("qid")};X.publish=a,X.subscribe=b,X.unsubscribe=c,X.sendData=d,X.sendSubmit=e,X.sendReady=f,X.requestFrameResize=g,X.hideWidgetContainer=s,X.showWidgetContainer=t,X.replaceWidget=u,X.getWidgetData=z,X.setupLibraries=o,X.showWidgetError=v,X.hideWidgetError=w,X.makeWidgetRequired=x,X.makeWidgetNotRequired=y,X.listenFromField=m,X.listenFromWidget=n,X.storeToField=h,X.setFieldsValueByLabel=j,X.setFieldsValueById=k,X.getQueryString=F,X.getAllQueryString=G,X.getWidgetSetting=F,X.getWidgetSettings=G,X.getParentOrigin=H,X.isWidgetRequired=N,X.isWidgetStatic=O,X.isWidgetOnBuilder=P;var Y=B("ref"),Z=decodeURIComponent(Y);if((!Y||"undefined"==typeof Y)&&"undefined"==typeof B("qid")){var $=document.location.hash.replace(/^#/,""),_=$.lastIndexOf("/");Z=decodeURIComponent($.substr(0,_)),X.questionID=Number($.substr(_+1))}return XD.receiveMessage(function(a){if(!("data"in a&&a.data.indexOf("/*framebus*/")>-1)){var b=JSON.parse(a.data);switch(b.type){case"ready":if(S)return!1;b.fontFamily&&b.fontFamily.length>0&&K(b.fontFamily),b.settings&&!T&&(T=b.settings,delete b.settings),"origin"in b&&(U=b.origin,delete b.origin),J(),S=!0,V=b,r(function(){X.publish("ready",b)});break;case"settings":b.settings&&!T&&(T=b.settings);break;case"event:receiver":"isWidget"in b&&b.isWidget?X.publish("event:emitter:"+b.targetQID,b):X.publish("event:emitter:"+b.eventID,b);break;case"formstrings":"formTexts"in b&&L(X.texts)<1&&(X.texts=b.formTexts);break;case"widgetclear":X.publish("clear",b);break;case"show":X.publish("show",b);break;case"submit":var c=!1;"method"in b&&"next"===b.method&&(c=!0,X.publish("next")),X.publish("submit",c);break;case"style":X.publish("style",b)}}},Z),I(),X}();